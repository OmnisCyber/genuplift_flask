{% extends "layouts/base.html" %}

{% block title %} Shopping Cart {% endblock %}

{% block stylesheets %}
    <!-- Specific Page CSS goes HERE  -->
    <style>
        .sidebar {
            width: 250px;
            background-color: #f2f2f2;
            padding: 20px;
            position: fixed;
            right: 0;
            top: 0;
            height: 100%;
            overflow-y: auto; /* Enable scrolling if the content overflows */
            display: none; /* Initially hide the cart */
            transition: transform 0.3s ease-in-out; /* Add smooth transition effect */
            transform: translateX(100%); /* Move the sidebar out of view */
        }

        .sidebar.active {
            display: block; /* Show the sidebar when active */
            transform: translateX(0); /* Move the sidebar into view */
        }

        .cart-icon {
            position: fixed;
            top: 20px;
            right: 20px;
            cursor: pointer;
            z-index: 1000;
        }

        .cart-item {
            margin-bottom: 10px;
        }
    </style>
{% endblock stylesheets %}

{% block content %}
<main>
    <!-- Cart Icon -->
    <div class="cart-icon" onclick="toggleCart()">
        <img src="https://cdn-icons-png.flaticon.com/512/3144/3144456.png" alt="Cart Icon" width="40" height="40">
    </div>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="sidebar">
        <h2>Shopping Cart</h2>
        <ul>
            {% for item in cart_items %}
                <li class="cart-item">
                    <strong>{{ item.product.name }}</strong>
                    <span>Quantity: {{ item.quantity }}</span>
                </li>
            {% endfor %}
            <li>
                <strong>Total Price:</strong> ${{ total_price }}
            </li>
        </ul>
    </div>

    <!-- Your main content goes here -->
    <div style="margin-right: 270px; padding: 20px;">
        <h1>Products</h1>
        <!-- Display your products here -->
    </div>
</main>

<script>
    function toggleCart() {
        var cartSidebar = document.getElementById('cart-sidebar');
        cartSidebar.classList.toggle('active'); // Toggle the 'active' class
    }
</script>
{% endblock content %}
